# 虚函数

```cpp
// 函数形式
virtual returntype funcname(arglist){
    // function block
}
```

当一个基类的成员函数定义为虚函数时，整个继承体系中该函数都是虚函数

虚函数只有函数原型完全相同(包括返回值类型，参数类型、个数、顺序)时才会覆盖，**并保存其虚特性**

> 虚函数的链接采用动态联编(运行动态链接)的方式，且不是 inline 函数，只能是非静态类型的成员函数
>
> 1. 因为内联函数是编译时链接的，故不能定义为虚函数
> 2. 静态成员函数，不能被继承，也不能定义为虚函数
> 3. 构造函数只构造基类，也不能定义为虚函数
> 析构虚函数，解决使用基类指针释放派生类对象时，析构不彻底的问题


# override

表示该函数时对基类虚函数的覆盖，如果不是对虚函数的覆盖则编译不通过

# final 

final用于限定只想让派生类继承，而不允许被覆盖的虚成员函数


# 虚函数绑定

使用指针或者引用时才会体现虚函特性

对于引用，在声明时会自动绑定具体的虚函数，不再改变，因为虚函数后续只能通过赋值运算改变数据成员

# 纯虚函数

虚函数的函数体赋值为 0

```cpp
virtual returntype funcname(arglist) = 0;
```

含有纯虚函数(包括从基类继承的抽象类，且未定义函数体)的类叫做抽象类，抽象类不能声明对象，当时可以声明指针和引用指向非抽象类的基类(和 JAVA 的抽象类类似)

# typeid

typeid(exp) exp可以是任何表达式，也可以是类对象、指针或引用

typeid(exp) 在运行时判断exp内容的类型
